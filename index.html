<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Установка кодировки и масштаба -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Мета-теги SEO для обоих языков -->
    <meta name="description" content="TODO List is a handy notebook for managing tasks. Share your list offline and with others, access it anytime, and improve your productivity.">
    <meta name="keywords" content="TODO, task list, notebook, productivity, tasks, management, save, self, localhost-four, task management, productivity, task list, to-do list, organizational tool, efficient tasks, manage tasks">
    <meta name="author" content="localhost-four.github.io">

    <!-- Open Graph для социальных сетей (Facebook, LinkedIn, WhatsApp) -->
    <meta property="og:title" content="TODO List - Task Management App">
    <meta property="og:description" content="Manage your tasks effectively. Share your TODO list offline and with others. Access your tasks anytime, anywhere.">
    <meta property="og:image" content="1img.gif">
    <meta property="og:url" content="https://localhost-four.github.io/TODO/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="TODO List">
    
    <!-- Мета-теги для Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="TODO List - Task Management App">
    <meta name="twitter:description" content="Manage your tasks effectively. Share your TODO list offline and with others. Access your tasks anytime, anywhere.">
    <meta name="twitter:image" content="1img.gif">
    <meta name="twitter:url" content="https://localhost-four.github.io/TODO/">
    
    <!-- Robot Follow -->
    <meta name="robots" content="noindex, follow">
    <meta name="language" content="en">
    <meta name="rating" content="General">
    <meta name="theme-color" content="#ffffff">

    <!-- Schema.org Structured Data for Better SEO -->
    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "WebSite",
            "url": "https://localhost-four.github.io/TODO/",
            "name": "TODO List",
            "description": "A comprehensive app for task management. Keep your tasks organized and accessible.",
            "author": {
                "@type": "Organization",
                "name": "Your Company Name"
            },
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://localhost-four.github.io/TODO/?state={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
    </script>
    
    <!-- Защита от XSS с помощью Content Security Policy (CSP) -->
    <meta http-equiv="Content-Security-Policy" content="
        style-src 'self'; 
        img-src 'self' data:; 
        font-src 'self'; 
        object-src 'none'; 
        frame-ancestors 'none'; 
        base-uri 'self'; 
        form-action 'self';
    ">
    <!-- Защита от кликджекинга -->
    <meta http-equiv="X-Frame-Options" content="DENY">
    <!-- Установка заголовка X-Content-Type-Options -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <!-- Установка заголовка Strict-Transport-Security (HSTS) через мета-тег -->
    <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">
    <!-- Защита от кросс-доменных запросов (CORS) -->
    <meta http-equiv="Access-Control-Allow-Origin" content="self">
    <!-- Установка заголовка Permissions-Policy для управления доступом к API -->
    <meta http-equiv="Permissions-Policy" content="geolocation=(self), microphone=(), camera=()">
    <meta name="referrer" content="no-referrer">

    <!-- Иконки для мобильных устройств -->
    <link rel="icon" href="1img.gif">
    <link rel="apple-touch-icon" href="1img.gif">
    <link rel="icon" sizes="192x192" href="1img.gif">
    <link rel="icon" sizes="512x512" href="1img.gif">

    <!-- Манифест для PWA -->
    <link rel="manifest" href="manifest.json">
    <link href="%PUBLIC_URL%/manifest.json" rel="manifest" />


    <!-- Заголовок страницы -->
    <title>TODO List — Task Management App</title>

    <!-- Firebase SDK -->
    <!-- <meta http-equiv="Content-Security-Policy" content="script-src 'self' http://127.0.0.1:3000;"> -->
    <!-- <meta http-equiv="Content-Security-Policy" content="script-src 'self' http://127.0.0.1:3000; 'nonce-xyz123';"> -->
    <!-- Подключаем Firebase SDK для модулей -->
    <script type="module" src="join.js" defer></script>

    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer nonce="xyz123"></script>
    <script src="manifest.js" defer nonce="xyz123"></script>
    <script src="service-worker.js" defer nonce="xyz123"></script>
    <script src="ban.js" defer nonce="xyz123"></script>
</head>
<body allowfullscreen="allowfullscreen">
    <div class="app-container">
        <header class="noselect">
            <div class="app-header">
                <a href="#top" onclick="copy()" nonce="xyz123">TODO</a>
                <a href="home/">LOOK</a>
                <div class="tabs-container">
                    <button class="tab" nonce="xyz123" onclick="openNewBoardTab()">DESK</button>
                    <button class="tab" nonce="xyz123" onclick="openAddTaskModal()">TASK</button>
                    <button class="tab" id="theme-button" onclick="themes()">/set</button>
                </div>
            </div>
        </header>
        <div class="tabs-container">
            <div id="tabs" class="noselect"></div>
        </div>

        <div class="task-container" id="task-container">
            <!-- Доски будут добавляться сюда -->
        </div>
        
        <!-- Modal for Adding Tasks -->
        <div class="modal" id="addTaskModal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()" nonce="xyz123">&times;</span>
                <h2>Add Task</h2>
                <input type="text" id="taskTitle" placeholder="Task Title">
                <input type="date" id="taskDeadline">
                <script nonce="xyz123">
                    document.getElementById('taskDeadline').value = new Date().toISOString().split('T')[0];
                </script>
                <textarea id="taskDescription" placeholder="Task Description"></textarea>
                <input type="url" id="taskImageUrl" placeholder="Image URL (Only for Image)">
                <input type="url" id="taskLink" placeholder="Resource Link (url)">
                <select id="taskPriority">
                    <option value="low">Low</option>
                    <option value="medium">Medium</option>
                    <option value="high">High</option>
                </select>
                <button onclick="addTask()" nonce="xyz123">Add Task</button>
                <div id="filePreview" class="file-preview"></div>
            </div>
        </div>


        <!-- Modal for Board Settings -->
        <div class="modal" id="settingsModal">
            <div class="modal-content">
                <span class="close" onclick="closeSettings()" nonce="xyz123">&times;</span>
                <h2>Board Settings</h2>
                <label>Emoji:</label>
                <input type="text" id="emojiInput">
                <label>Background Color:</label>
                <input type="color" id="backgroundColorInput">
                <label>Text Color:</label>
                <input type="color" id="textColorInput">
                <label>Style:</label>
                <select id="styleInput">
                    <option value="block">Block</option>
                    <option value="grid">Grid</option>
                    <option value="flex">Flex</option>
                    <option value="ruby">Ruby</option>
                    <option value="inline">Inline</option>
                    <option value="contents">Contents</option>
                    <option value="flow-root">Flow-root</option>
                </select>
                <button onclick="applyBoardSettings()" nonce="xyz123">Apply</button>
                
            </div>
        </div>

        <!-- Modal for adding comment -->
        <div id="commentModal" class="modal">
            <div class="modal-content">
                <h2>Add Comment</h2>
                <textarea id="commentText" placeholder="Enter your comment..."></textarea>
                
                <div>
                    <label for="urlInput">Image URL:</label>
                    <input type="url" id="urlInput" placeholder="Enter image URL">
                </div>
                
                <button id="saveCommentBtn">Save Comment</button>
                <button onclick="closeCommentModal()" nonce="xyz123">Cancel</button>
            </div>
        </div>
    </div>

</body>
</html>
